var h=this,q=function(t,i){t=t.split(".");var e=h;t[0]in e||void 0===e.execScript||e.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||void 0===i?e=e[n]&&e[n]!==Object.prototype[n]?e[n]:e[n]={}:e[n]=i},r=function(t,i){function e(){}e.prototype=i.prototype,t.o=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.m=function(t,e,n){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return i.prototype[e].apply(t,r)}},t=function(i){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var e=Error().stack;e&&(this.stack=e)}i&&(this.message=String(i))};r(t,Error),t.prototype.name="CustomError";var u=function(i,e){for(var n="",r=(i=i.split("%s")).length-1,o=0;o<r;o++)n+=i[o]+(o<e.length?e[o]:"%s");t.call(this,n+i[r])};r(u,t),u.prototype.name="AssertionError";var v=function(t,i,e){if(!t){var n="Assertion failed";if(i){n+=": "+i;var r=Array.prototype.slice.call(arguments,2)}throw new u(""+n,r||[])}},w=Array.prototype.forEach?function(t,i){v(null!=t.length),Array.prototype.forEach.call(t,i,void 0)}:function(t,i){for(var e=t.length,n="string"==typeof t?t.split(""):t,r=0;r<e;r++)r in n&&i.call(void 0,n[r],r,t)},x;t:{var y=h.navigator;if(y){var z=y.userAgent;if(z){x=z;break t}}x=""}var A=function(t){return-1!=x.indexOf(t)},C=-1!=x.toLowerCase().indexOf("webkit")&&!A("Edge")&&A("Mobile"),D=A("Safari")&&!((A("Chrome")||A("CriOS"))&&!A("Edge")||A("Coast")||A("Opera")||A("Edge")||A("Silk")||A("Android"))&&!(A("iPhone")&&!A("iPod")&&!A("iPad")||A("iPad")||A("iPod")),F=function(t){var i=window;if(C&&D&&i){i.focus();var e=0,n=null;n=i.setInterval(function(){t.closed||5==e?(i.clearInterval(n),E(t)):(t.close(),e++)},150)}else t.close(),E(t)},E=function(t){if(!t.closed&&t.document&&t.document.body)if(t=t.document.body,v(null!=t,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in t)t.textContent="Please close this window.";else if(3==t.nodeType)t.data="Please close this window.";else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data="Please close this window."}else{for(var i;i=t.firstChild;)t.removeChild(i);v(t,"Node cannot be null or undefined."),t.appendChild((9==t.nodeType?t:t.ownerDocument||t.document).createTextNode("Please close this window."))}},G=function(t){if(!t)return"";0==(t=(t=t.split("#")[0].split("?")[0]).toLowerCase()).indexOf("//")&&(t=window.location.protocol+t),/^[\w\-]*:\/\//.test(t)||(t=window.location.href);var i=t.substring(t.indexOf("://")+3),e=i.indexOf("/");if(-1!=e&&(i=i.substring(0,e)),"http"!==(t=t.substring(0,t.indexOf("://")))&&"https"!==t&&"chrome-extension"!==t&&"file"!==t&&"android-app"!==t&&"chrome-search"!==t&&"app"!==t)throw Error("Invalid URI scheme in origin: "+t);e="";var n=i.indexOf(":");if(-1!=n){var r=i.substring(n+1);i=i.substring(0,n),("http"===t&&"80"!==r||"https"===t&&"443"!==r)&&(e=":"+r)}return t+"://"+i+e},H=function(){function t(){r[0]=1732584193,r[1]=4023233417,r[2]=2562383102,r[3]=271733878,r[4]=3285377520,u=c=0}function i(t){for(var i=a,e=0;64>e;e+=4)i[e/4]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];for(e=16;80>e;e++)t=i[e-3]^i[e-8]^i[e-14]^i[e-16],i[e]=4294967295&(t<<1|t>>>31);t=r[0];var n=r[1],o=r[2],s=r[3],l=r[4];for(e=0;80>e;e++){if(40>e)if(20>e)var c=s^n&(o^s),u=1518500249;else c=n^o^s,u=1859775393;else 60>e?(c=n&o|s&(n|o),u=2400959708):(c=n^o^s,u=3395469782);c=(4294967295&(t<<5|t>>>27))+c+l+u+i[e]&4294967295,l=s,s=o,o=4294967295&(n<<30|n>>>2),n=t,t=c}r[0]=r[0]+t&4294967295,r[1]=r[1]+n&4294967295,r[2]=r[2]+o&4294967295,r[3]=r[3]+s&4294967295,r[4]=r[4]+l&4294967295}function e(t,e){if("string"==typeof t){for(var n=[],r=0,a=(t=unescape(encodeURIComponent(t))).length;r<a;++r)n.push(t.charCodeAt(r));t=n}if(e||(e=t.length),n=0,0==c)for(;n+64<e;)i(t.slice(n,n+64)),n+=64,u+=64;for(;n<e;)if(o[c++]=t[n++],u++,64==c)for(c=0,i(o);n+64<e;)i(t.slice(n,n+64)),n+=64,u+=64}function n(){var t=[],n=8*u;56>c?e(s,56-c):e(s,64-(c-56));for(var a=63;56<=a;a--)o[a]=255&n,n>>>=8;for(i(o),a=n=0;5>a;a++)for(var l=24;0<=l;l-=8)t[n++]=r[a]>>l&255;return t}for(var r=[],o=[],a=[],s=[128],l=1;64>l;++l)s[l]=0;var c,u;return t(),{reset:t,update:e,digest:n,digestString:function(){for(var t=n(),i="",e=0;e<t.length;e++)i+="0123456789ABCDEF".charAt(Math.floor(t[e]/16))+"0123456789ABCDEF".charAt(t[e]%16);return i}}},aa=function(t,i,e){var n=[];return n=[i,t],w(e,function(t){n.push(t)}),I(n.join(" "))},I=function(t){var i=H();return i.update(t),i.digestString().toLowerCase()},J=function(t){var i=t||[];t=[];for(var e=0,n=i.length;e<n;++e){var r=String(i[e]||"");r&&t.push(r)}return 2>t.length?null:(i=t[0],(e=gadgets.rpc.getOrigin(t[1]))!==t[1]?null:(t=t.slice(2),(t=(e&&i?["session_state",aa(G(e),i,t||[])].join(" "):null)||"")&&t.substr(14)||null))},K=function(t,i,e){this.i=String(t||""),this.f=String(i||""),this.a=String(e||""),this.b={},this.j=this.l=this.g=this.h="",this.c=null};K.prototype.evaluate=function(){var t={},i="";try{i=String(document.cookie||"")}catch(t){}for(var e=0,n=(i=i.split("; ").join(";").split(";")).length;e<n;++e){var r=i[e],o=r.indexOf("=");-1!=o?t[r.substr(0,o)]=r.substr(o+1):t[r]=null}this.b=t,this.b.SID&&(this.f=this.f.split(".")[0].split("@")[0],(this.g=String(this.b[0==this.i.indexOf("https://")?"SAPISID":"APISID"]||""))?(t=0==gadgets.rpc.getOrigin(String(window.location.href)).indexOf("https://")?"SAPISID":"APISID",(this.h=String(this.b[t]||""))?(1!=(e=(i=String(this.b.LSOLH||"").split(":")).length)&&4!=e||(this.l=i[0]),3!=e&&4!=e||(t=String(i[e-3]||""),i=String(i[e-1]||""),e=this.h,t?(n=[t],e&&n.push(e),e=I(n.join(" ")).substr(0,4)):e=null,e===i&&(this.j=t)),this.a&&-1!=(t=this.a.indexOf("."))&&(t=this.a.substr(0,t)||"",this.a=t+"."+J([this.g,this.i,this.f,this.l,this.j,t]).substr(0,4)),t=J([this.g,this.i,this.f,this.a]),this.a&&(t=t+"."+this.a),this.c=t):this.c=""):this.c="")};var L=function(t,i,e){return(t=new K(t,i,e)).evaluate(),t},N=function(t,i,e){e=e||M(this);var n=null;if(t){var r=(t=String(t)).indexOf(".");-1!=r&&(n=t.substr(r+1))}if(i=L(e,i,n).c,null==t||""==t)t=i==t;else if(null==i||i.length!=t.length)t=!1;else{for(n=e=0,r=t.length;n<r;++n)e|=t.charCodeAt(n)^i.charCodeAt(n);t=0==e}return t},O=function(t,i,e){if(e=e||M(this),e=L(e),String(t)!=e.c)throw Error("Unauthorized request");return i=String(i),t=parseInt(i,10),String(t)==i&&0<=t&&(i=e.j)?(i=i.split("|"),t=i.length<=t?null:i[t]||null):t=null,t},M=function(t){if(!(t=String(t.origin||"")))throw Error("RPC has no origin.");return t};q("checkSessionState",N),q("getVersionInfo",O);var P,Q,R,S,T,U,ba=window,V=(window.location.href||ba.location.href).match(/.*(\?|#|&)usegapi=([^&#]+)/)||[];"1"===decodeURIComponent(V[V.length-1]||"")?(R=function(t,i,e,n,r,o){P.send(i,r,n,o||gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)},S=function(t,i){P.register(t,i,gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)},T=function(t){var i=/^(?:https?:\/\/)?[0-9.\-A-Za-z]+(?::\d+)?/.exec(t);i=gapi.iframes.makeWhiteListIframesFilter([i?i[0]:null]),R("..","oauth2callback",gadgets.rpc.getAuthToken(".."),void 0,t,i)},Q=function(){ca()},U=function(){R("..","oauth2relayReady",gadgets.rpc.getAuthToken("..")),S("check_session_state",da),S("get_versioninfo",ea)}):(R=function(t,i,e,n,r){gadgets.rpc.call(t,i+":"+e,n,r)},S=function(t,i){gadgets.rpc.register(t,i)},T=function(t){gadgets.rpc.getTargetOrigin("..")==gadgets.rpc.getOrigin(t)&&R("..","oauth2callback",gadgets.rpc.getAuthToken(".."),void 0,t)},Q=function(){U()},U=function(){R("..","oauth2relayReady",gadgets.rpc.getAuthToken("..")),S("check_session_state",N),S("get_versioninfo",O)});var ca=function(){var t=U;window.gapi.load("gapi.iframes",function(){P=gapi.iframes.getContext().getParentIframe(),t()})},W=function(t){window.setTimeout(function(){T(t)},1)},da=function(t){if(t)var i=t.session_state,e=t.client_id;return N(i,e,P.getOrigin())},ea=function(t){return O(t.xapisidHash,t.sessionIndex,P.getOrigin())},X=!1,Y=!1,Z=function(){Y=!0,X&&Q()};q("oauth2callback",W),q("oauth2verify",function(t,i){var e,n=window.open("about:blank",t);return n&&!n.closed&&(e=n.oauth2callbackUrl)?(window.timeoutMap=window.timeoutMap||{},window.realSetTimeout=window.realSetTimeout||window.setTimeout,window.setTimeout=function(t,i){try{var e=t,r=!1;t=function(){if(!r){r=!0;try{window.timeoutMap[String(a)]=void 0,delete window.timeoutMap[String(a)]}catch(t){}return e.call(this)}};var o=n.setTimeout(t,i),a=window.realSetTimeout(t,i);return window.timeoutMap[String(a)]=o,a}catch(t){}return window.realSetTimeout(t,i)},window.realClearTimeout=window.realClearTimeout||window.clearTimeout,window.clearTimeout=function(t){try{var i=window.timeoutMap[String(t)];i&&n.clearTimeout(i)}catch(t){}try{window.timeoutMap[String(t)]=void 0,delete window.timeoutMap[String(t)]}catch(t){}window.realClearTimeout(t)},W(String(e)),"keep_open"!=i&&F(n),!0):(n&&!n.closed&&F(n),!1)}),q("init",function(){X=!0,Y&&Q()}),window.addEventListener?window.addEventListener("load",Z,!1):window.attachEvent("onload",Z);
//# sourceMappingURL=maps/25936583-postmessagerelay.js.map
